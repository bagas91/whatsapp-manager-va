<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>WhatsApp Manager - Sistema de Gerenciamento</title>
  <link rel="stylesheet" href="style.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
  <!-- Sidebar -->
  <aside class="sidebar">
    <div class="sidebar-header">
      <div class="logo">
        <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect width="32" height="32" rx="8" fill="#25D366"/>
          <path d="M16 8C11.6 8 8 11.6 8 16C8 17.4 8.4 18.7 9.1 19.8L8 24L12.3 22.9C13.4 23.6 14.7 24 16 24C20.4 24 24 20.4 24 16C24 11.6 20.4 8 16 8ZM20.5 19.3C20.3 19.9 19.4 20.4 18.7 20.5C18.3 20.6 17.8 20.6 16.5 20.1C14.7 19.4 13.5 17.6 13.4 17.5C13.3 17.4 12.6 16.5 12.6 15.5C12.6 14.5 13.1 14 13.3 13.8C13.5 13.6 13.7 13.5 13.9 13.5C14 13.5 14.1 13.5 14.2 13.5C14.3 13.5 14.5 13.5 14.6 13.8C14.8 14.2 15.2 15.2 15.2 15.3C15.3 15.4 15.3 15.5 15.2 15.6C15.1 15.7 15.1 15.8 15 15.9C14.9 16 14.8 16.1 14.7 16.2C14.6 16.3 14.5 16.4 14.6 16.6C14.7 16.8 15.1 17.5 15.7 18C16.5 18.7 17.1 18.9 17.3 19C17.5 19.1 17.6 19.1 17.7 19C17.8 18.9 18.2 18.4 18.3 18.2C18.4 18 18.6 18 18.7 18.1C18.9 18.2 19.9 18.7 20.1 18.8C20.3 18.9 20.4 18.9 20.5 19C20.5 19.1 20.5 19.5 20.5 19.3Z" fill="white"/>
        </svg>
        <span class="logo-text">WhatsApp Manager</span>
      </div>
    </div>
    
    <nav class="sidebar-nav">
      <button class="nav-item active" data-tab="dashboard">
        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
          <path d="M3 3H8V10H3V3Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M3 13H8V17H3V13Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M12 3H17V7H12V3Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M12 10H17V17H12V10Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        <span>Dashboard</span>
      </button>
      
      <button class="nav-item" data-tab="mensagens">
        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
          <path d="M17 9C17 13.4183 13.4183 17 9 17C7.73611 17 6.55278 16.6944 5.51389 16.1556L3 17L3.84444 14.4861C3.30556 13.4472 3 12.2639 3 11C3 6.58172 6.58172 3 11 3C15.4183 3 19 6.58172 19 11Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        <span>Mensagens</span>
      </button>
      
      <button class="nav-item" data-tab="agendamentos">
        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
          <rect x="3" y="4" width="14" height="13" rx="2" stroke="currentColor" stroke-width="1.5"/>
          <path d="M3 8H17" stroke="currentColor" stroke-width="1.5"/>
          <path d="M7 2V6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
          <path d="M13 2V6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
        </svg>
        <span>Agendamentos</span>
      </button>
      
      <button class="nav-item" data-tab="grupos">
        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
          <path d="M14 17V15C14 13.8954 13.1046 13 12 13H6C4.89543 13 4 13.8954 4 15V17" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
          <circle cx="9" cy="7" r="3" stroke="currentColor" stroke-width="1.5"/>
          <path d="M17 17V15C17 14.2 16.6 13.5 16 13.1" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
          <path d="M13 3.1C13.6 3.5 14 4.2 14 5C14 5.8 13.6 6.5 13 6.9" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
        </svg>
        <span>Grupos</span>
      </button>
      
      <button class="nav-item" data-tab="conexao">
        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
          <circle cx="10" cy="10" r="7" stroke="currentColor" stroke-width="1.5"/>
          <path d="M10 6V10L13 13" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
        </svg>
        <span>Conexão</span>
      </button>
    </nav>
    
    <div class="sidebar-footer">
      <div class="connection-status">
        <div class="status-indicator" id="statusIndicator"></div>
        <span id="statusText">Verificando...</span>
      </div>
    </div>
  </aside>

  <!-- Main Content -->
  <main class="main-content">
    <header class="header">
      <h1 id="pageTitle">Dashboard</h1>
      <div class="header-actions">
        <button class="btn-icon" title="Notificações">
          <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
            <path d="M15 6.66667C15 5.34058 14.4732 4.06881 13.5355 3.13113C12.5979 2.19345 11.3261 1.66667 10 1.66667C8.67392 1.66667 7.40215 2.19345 6.46447 3.13113C5.52678 4.06881 5 5.34058 5 6.66667C5 12.5 2.5 14.1667 2.5 14.1667H17.5C17.5 14.1667 15 12.5 15 6.66667Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M11.4417 17.5C11.2952 17.7526 11.0849 17.9622 10.8319 18.1079C10.5789 18.2537 10.292 18.3304 10 18.3304C9.70802 18.3304 9.42112 18.2537 9.16813 18.1079C8.91514 17.9622 8.70484 17.7526 8.55835 17.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>
      </div>
    </header>

    <div class="content">
      <!-- Dashboard -->
      <section id="dashboard" class="panel active">
        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-icon" style="background: #E3F2FD;">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                <path d="M21 15C21 15.5304 20.7893 16.0391 20.4142 16.4142C20.0391 16.7893 19.5304 17 19 17H7L3 21V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H19C19.5304 3 20.0391 3.21071 20.4142 3.58579C20.7893 3.96086 21 4.46957 21 5V15Z" stroke="#1976D2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </div>
            <div class="stat-content">
              <p class="stat-label">Mensagens Enviadas</p>
              <h3 class="stat-value" id="statMessages">0</h3>
            </div>
          </div>
          
          <div class="stat-card">
            <div class="stat-icon" style="background: #F3E5F5;">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                <rect x="3" y="4" width="18" height="18" rx="2" stroke="#7B1FA2" stroke-width="2"/>
                <path d="M3 10H21" stroke="#7B1FA2" stroke-width="2"/>
                <path d="M8 2V6" stroke="#7B1FA2" stroke-width="2" stroke-linecap="round"/>
                <path d="M16 2V6" stroke="#7B1FA2" stroke-width="2" stroke-linecap="round"/>
              </svg>
            </div>
            <div class="stat-content">
              <p class="stat-label">Agendamentos Ativos</p>
              <h3 class="stat-value" id="statSchedules">0</h3>
            </div>
          </div>
          
          <div class="stat-card">
            <div class="stat-icon" style="background: #E8F5E9;">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                <path d="M17 21V19C17 17.9391 16.5786 16.9217 15.8284 16.1716C15.0783 15.4214 14.0609 15 13 15H5C3.93913 15 2.92172 15.4214 2.17157 16.1716C1.42143 16.9217 1 17.9391 1 19V21" stroke="#388E3C" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <circle cx="9" cy="7" r="4" stroke="#388E3C" stroke-width="2"/>
                <path d="M23 21V19C23 18.1 22.7 17.3 22.2 16.7" stroke="#388E3C" stroke-width="2" stroke-linecap="round"/>
                <path d="M16 3.1C16.8 3.6 17.3 4.5 17.3 5.5C17.3 6.5 16.8 7.4 16 7.9" stroke="#388E3C" stroke-width="2" stroke-linecap="round"/>
              </svg>
            </div>
            <div class="stat-content">
              <p class="stat-label">Grupos Cadastrados</p>
              <h3 class="stat-value" id="statGroups">0</h3>
            </div>
          </div>
          
          <div class="stat-card">
            <div class="stat-icon" style="background: #FFF3E0;">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                <circle cx="12" cy="12" r="10" stroke="#F57C00" stroke-width="2"/>
                <path d="M12 6V12L16 14" stroke="#F57C00" stroke-width="2" stroke-linecap="round"/>
              </svg>
            </div>
            <div class="stat-content">
              <p class="stat-label">Próximo Envio</p>
              <h3 class="stat-value" id="statNextSend">--:--</h3>
            </div>
          </div>
        </div>
        
        <div class="recent-section">
          <h2>Atividades Recentes</h2>
          <div class="activity-list" id="activityList">
            <div class="empty-state">
              <svg width="64" height="64" viewBox="0 0 64 64" fill="none">
                <circle cx="32" cy="32" r="30" stroke="#E0E0E0" stroke-width="2"/>
                <path d="M32 20V32L40 40" stroke="#E0E0E0" stroke-width="2" stroke-linecap="round"/>
              </svg>
              <p>Nenhuma atividade recente</p>
            </div>
          </div>
        </div>
      </section>

      <!-- Mensagens -->
      <section id="mensagens" class="panel">
        <div class="panel-header">
          <h2>Nova Mensagem</h2>
          <p class="subtitle">Envie mensagens instantâneas para seus grupos</p>
        </div>
        
        <div class="form-card">
          <div class="form-group">
            <label class="form-label">Selecionar Grupos</label>
            <select id="msgGroup" class="form-select" multiple>
              <option value="">Carregando grupos...</option>
            </select>
            <span class="form-hint">Segure Ctrl/Cmd para selecionar múltiplos grupos</span>
          </div>
          
          <div class="form-group">
            <label class="form-label">Tipo de Mensagem</label>
            <div class="radio-group">
              <label class="radio-label">
                <input type="radio" name="msgType" value="text" checked>
                <span>Texto</span>
              </label>
              <label class="radio-label">
                <input type="radio" name="msgType" value="media">
                <span>Mídia</span>
              </label>
            </div>
          </div>
          
          <div class="form-group">
            <label class="form-label">Mensagem</label>
            <textarea id="msgText" class="form-textarea" rows="5" placeholder="Digite sua mensagem aqui..."></textarea>
          </div>
          
          <div class="form-group" id="fileUploadGroup" style="display: none;">
            <label class="form-label">Arquivos</label>
            <div class="file-upload">
              <input type="file" id="msgFiles" multiple hidden>
              <label for="msgFiles" class="file-upload-label">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                  <path d="M21 15V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M17 8L12 3L7 8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M12 3V15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                <span>Clique para selecionar arquivos</span>
              </label>
              <div id="fileList" class="file-list"></div>
            </div>
          </div>
          
          <div class="form-actions">
            <button id="btnSend" class="btn btn-primary">
              <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                <path d="M18 2L9 11" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M18 2L12 18L9 11L2 8L18 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              Enviar Agora
            </button>
          </div>
          
          <div id="sendResult" class="result-box"></div>
        </div>
      </section>

      <!-- Agendamentos -->
      <section id="agendamentos" class="panel">
        <div class="panel-header">
          <h2>Agendar Mensagem</h2>
          <p class="subtitle">Programe o envio de mensagens para data e hora específicas</p>
        </div>
        
        <div class="form-card">
          <div class="form-group">
            <label class="form-label">Selecionar Grupos</label>
            <select id="schedGroup" class="form-select" multiple>
              <option value="">Carregando grupos...</option>
            </select>
          </div>
          
          <div class="form-row">
            <div class="form-group">
              <label class="form-label">Data</label>
              <input type="date" id="schedDate" class="form-input">
            </div>
            <div class="form-group">
              <label class="form-label">Horário</label>
              <input type="time" id="schedTime" class="form-input">
            </div>
          </div>
          
          <div class="form-group">
            <label class="form-label">Mensagem</label>
            <textarea id="schedText" class="form-textarea" rows="5" placeholder="Digite sua mensagem..."></textarea>
          </div>
          
          <div class="form-group">
            <label class="form-label">Arquivos (opcional)</label>
            <div class="file-upload">
              <input type="file" id="schedFiles" multiple hidden>
              <label for="schedFiles" class="file-upload-label">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                  <path d="M21 15V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M17 8L12 3L7 8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M12 3V15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                <span>Clique para selecionar arquivos</span>
              </label>
              <div id="schedFileList" class="file-list"></div>
            </div>
          </div>
          
          <div class="form-actions">
            <button id="btnSchedule" class="btn btn-primary">
              <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                <rect x="3" y="4" width="14" height="13" rx="2" stroke="currentColor" stroke-width="1.5"/>
                <path d="M3 8H17" stroke="currentColor" stroke-width="1.5"/>
                <path d="M7 2V6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                <path d="M13 2V6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
              </svg>
              Agendar Envio
            </button>
          </div>
          
          <div id="schedResult" class="result-box"></div>
        </div>
        
        <div class="schedules-list">
          <h3>Agendamentos Programados</h3>
          <div id="schedulesList" class="schedules-container">
            <div class="empty-state">
              <svg width="64" height="64" viewBox="0 0 64 64" fill="none">
                <rect x="8" y="12" width="48" height="44" rx="4" stroke="#E0E0E0" stroke-width="2"/>
                <path d="M8 24H56" stroke="#E0E0E0" stroke-width="2"/>
                <path d="M20 8V16" stroke="#E0E0E0" stroke-width="2" stroke-linecap="round"/>
                <path d="M44 8V16" stroke="#E0E0E0" stroke-width="2" stroke-linecap="round"/>
              </svg>
              <p>Nenhum agendamento programado</p>
            </div>
          </div>
        </div>
      </section>

      <!-- Grupos -->
      <section id="grupos" class="panel">
        <div class="panel-header">
          <h2>Gerenciar Grupos</h2>
          <p class="subtitle">Adicione e gerencie seus grupos do WhatsApp</p>
        </div>
        
        <div class="form-card">
          <h3>Adicionar Novo Grupo</h3>
          <div class="form-row">
            <div class="form-group">
              <label class="form-label">ID do Grupo</label>
              <input type="text" id="groupId" class="form-input" placeholder="5511999999999-123456789@g.us">
              <span class="form-hint">Encontre o ID na aba "Conexão"</span>
            </div>
            <div class="form-group">
              <label class="form-label">Nome do Grupo</label>
              <input type="text" id="groupName" class="form-input" placeholder="Meu Grupo">
            </div>
          </div>
          <div class="form-actions">
            <button id="btnAddGroup" class="btn btn-primary">
              <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                <path d="M10 4V16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                <path d="M4 10H16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              </svg>
              Adicionar Grupo
            </button>
          </div>
          <div id="groupResult" class="result-box"></div>
        </div>
        
        <div class="groups-list">
          <h3>Grupos Cadastrados</h3>
          <div id="groupsList" class="groups-container">
            <div class="empty-state">
              <svg width="64" height="64" viewBox="0 0 64 64" fill="none">
                <path d="M44 52V48C44 45.8783 43.1571 43.8434 41.6569 42.3431C40.1566 40.8429 38.1217 40 36 40H20C17.8783 40 15.8434 40.8429 14.3431 42.3431C12.8429 43.8434 12 45.8783 12 48V52" stroke="#E0E0E0" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <circle cx="28" cy="24" r="8" stroke="#E0E0E0" stroke-width="2"/>
                <path d="M52 52V48C52 46.4 51.4 45 50.4 44" stroke="#E0E0E0" stroke-width="2" stroke-linecap="round"/>
                <path d="M40 12.4C41.4 13.4 42 15 42 16.6C42 18.2 41.4 19.8 40 20.8" stroke="#E0E0E0" stroke-width="2" stroke-linecap="round"/>
              </svg>
              <p>Nenhum grupo cadastrado</p>
            </div>
          </div>
        </div>
      </section>

      <!-- Conexão -->
      <section id="conexao" class="panel">
        <div class="panel-header">
          <h2>Status da Conexão</h2>
          <p class="subtitle">Gerencie a conexão com o WhatsApp Web</p>
        </div>
        
        <div class="connection-card">
          <div class="connection-status-large">
            <div class="status-indicator-large" id="statusIndicatorLarge"></div>
            <h3 id="connectionStatusText">Verificando conexão...</h3>
          </div>
          
          <div id="qrCodeContainer" class="qr-container" style="display: none;">
            <h4>Escaneie o QR Code</h4>
            <div id="qrCode" class="qr-code"></div>
            <p class="qr-instructions">
              1. Abra o WhatsApp no seu celular<br>
              2. Toque em Menu ou Configurações e selecione Aparelhos conectados<br>
              3. Toque em Conectar um aparelho<br>
              4. Aponte seu celular para esta tela para escanear o QR code
            </p>
          </div>
          
          <div id="connectionInfo" class="connection-info">
            <pre id="apiStatus"></pre>
          </div>
          
          <button id="btnRefreshStatus" class="btn btn-secondary">
            <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
              <path d="M17 2V7H12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M3 18V13H8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M4.5 7C5.06 5.77 5.93 4.7 7 3.92C8.07 3.14 9.32 2.66 10.63 2.53C11.94 2.4 13.26 2.63 14.45 3.19C15.64 3.75 16.66 4.62 17.4 5.7L19 8M1 12L2.6 14.3C3.34 15.38 4.36 16.25 5.55 16.81C6.74 17.37 8.06 17.6 9.37 17.47C10.68 17.34 11.93 16.86 13 16.08C14.07 15.3 14.94 14.23 15.5 13" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            Atualizar Status
          </button>
        </div>
      </section>
    </div>
  </main>

  <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.3/build/qrcode.min.js"></script>
  <script src="app.js"></script>
</body>
</html>
